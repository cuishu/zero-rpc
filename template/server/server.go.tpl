// Code generated by zero-rpc. DO NOT EDIT.

package server

import (
	"context"

	"{{.Module.Name}}/logic"
	"{{.Module.Name}}/proto"
	"{{.Module.Name}}/svc"
)

type {{.Service.Name}}Server struct {
	proto.{{.Service.Name}}Server
	svc  *svc.Svc
}

func New{{.Service.Name}}Server(svc *svc.Svc) *{{.Service.Name}}Server {
	return &{{.Service.Name}}Server{
		svc: svc,
	}
}
{{range .Service.Methods}}
{{.Comment}}
func (server {{$.Service.Name}}Server) {{.Name}}(ctx context.Context, input *proto.{{.Param}}) (*proto.{{.Return}}, error) {
	defer server.svc.Logger.Sync()
	return logic.{{.Name}}(&svc.Session{
		Svc: *server.svc,
		Ctx:    ctx,
	}, input)
}
{{end}}
